{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Motoko backend for a workout generator app (Version 360) with focus on fixing missing leg exercises in Full Body workouts and adding diagnostic logging.",
  "architectural_notes": [
    "String comparisons for muscle group matching should be normalized using Text.toLowercase() and compared with Text.equal().",
    "Add temporary Debug.print diagnostics in generateFullBodyWorkout to log requested exercise counts per muscle group during testing."
  ],
  "known_issues": [
    "Leg exercises still missing in Full Body workout generation (only 8 exercises shown); recovery may not be reaching 100% for leg subgroups."
  ],
  "isFixRequest": true,
  "existing_features": [],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix backend bug where leg exercises do not appear in Full Body workouts by replacing custom/incorrect lowercase comparisons with Text.toLowercase + Text.equal across filter logic.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Force test recovery state to 100% for all muscle groups (update adjustRecoveryForTestMode) and add Debug.print logs in generateFullBodyWorkout for requested counts per muscle group.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "In backend/main.mo, replace the entire implementation of `adjustRecoveryForTestMode(_caller : Principal) : RecoveryState` with the exact code block provided by the user, including `fullyRecoveredTime = 0 - (100 * 3_600_000_000_000);` and setting `recoveryPercentage = 100.0` for chest, back, shoulders, arms, core, quadsRecovery, hamstringsRecovery, glutesRecovery, and calvesRecovery.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "In backend/main.mo, inside `generateFullBodyWorkout`, add the provided `Debug.print(...)` statements after each relevant section so the canister logs output the requested exercise counts for Chest, Quads, Hamstrings, Glutes, and Calves using `getExerciseCountForGroup(\"<Group>\", currentRecovery).toText()` exactly as provided by the user.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Workout Generator",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}